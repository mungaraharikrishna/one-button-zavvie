<div class="modal-wrapper">
  <div class="buy-modal" [ngClass]="{ 'email-modal': buyerEmailToClient }">
    <div class="modal-body" *ngIf="buyerEmailToClient && !proceedSeller">
      <h3>Email Buyer info to Your Client</h3>
      <div class="details-container">
        <div class="option1 col-12">
          <div class="details-body email-to-client">
            <p style="margin-top: 0;">Send To: <span class="email-details-to-email">{{ pds.getUserData(fns.FieldNames.generalInfo.AgentClientEmail) }}</span></p>
            <p>Name: <span class="email-details-to-name">{{ pds.getUserData(fns.FieldNames.generalInfo.AgentClientFirstName) }} {{ pds.getUserData(fns.FieldNames.generalInfo.AgentClientLastName) }}</span></p>
            <p>Subject: <span class="email-details-to-subject">Submit applications for home buying solutions</span></p>
            
            <div class="mock-email">
              <img src="{{ pds.getData('logo').url }}" alt="{{ pds.getData('logo').alt }}" />
              <p>Hello {{ clientname() }},</p>
              <textarea class="email-message" type="textarea" cols="24" rows="4" wrap="soft"
                (keyup)="buyerEmailMessageUpdated($event)"
                [value]="buyEmailBody"></textarea>
              <p>Let me know if you have any questions!</p>
              <p>Sincerely,<br>{{ agentname() }}<br>
                {{ agentphone() }}<br>
                {{ agentemail() }}
              </p>
            </div>

            <p class="pp-ps"><strong>A link to your client's buyer solution(s) will be embedded in the email below your message.</strong></p>
          </div>
          <div class="btn-container">
            <button class="cancel-btn" *ngIf="!showBuyerEmailLoader" (click)="emailToClientCanceled()">Cancel</button>
            <button class="confirm-btn" *ngIf="!showBuyerEmailLoader" (click)="buyerEmailToClientConfirmed()">Send Email</button>
            <div class="loading-spinner">
              <loading-spinner *ngIf="showBuyerEmailLoader"></loading-spinner>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- if user is both: moadal pop up to continue to seller information -->
    <div *ngIf="proceedSeller">
      <div class="proceed-modal-body">
        <div class="modal-content-container">
          <div class="proceed-seller-modal">
            <svg id="Layer_1" enable-background="new 0 0 64 64" height="120" viewBox="0 0 64 64" width="500" xmlns="http://www.w3.org/2000/svg"><path d="m28 37c-2.2 0-4 1.8-4 4v2c0 2.2 1.8 4 4 4s4-1.8 4-4v-2c0-2.2-1.8-4-4-4zm2 6c0 1.1-.9 2-2 2s-2-.9-2-2v-2c0-1.1.9-2 2-2s2 .9 2 2z"/><path d="m16 51c.6 0 1-.4 1-1s-.4-1-1-1c-1.1 0-2-.9-2-2v-2c0-.4.1-.8.4-1.1.3-.5.2-1.1-.3-1.4s-1.1-.2-1.4.3c-.5.6-.7 1.4-.7 2.2v2c0 2.2 1.8 4 4 4z"/><path d="m48 51c2.2 0 4-1.8 4-4v-2c0-2.2-1.8-4-4-4s-4 1.8-4 4v2c0 2.2 1.8 4 4 4zm-2-6c0-1.1.9-2 2-2s2 .9 2 2v2c0 1.1-.9 2-2 2s-2-.9-2-2z"/><path d="m60 43.3c.6 0 1-.4 1-1v-4.2c0-1.5-1-2.8-2.4-3.1-1.9-.3-3.6 1.2-3.6 3v5.8l-3.7 9.2h-6.6l-2.5-6.4c-.2-.5-.8-.8-1.3-.6s-.8.8-.6 1.3l2.8 7c.2.4.5.6.9.6h8c.4 0 .8-.2.9-.6l4.1-10.1v-6.2c0-.6.4-1 1-1s1 .4 1 1v4.3c0 .5.4 1 1 1z"/><path d="m45.2 15.3c.2.3.7.7 1.4.2.4-.3.5-1 .2-1.4-2.3-2.9-5.6-4.8-9.3-5.4-.5-.1-1.1.3-1.1.8s.3 1.1.8 1.1c3.2.5 6 2.2 8 4.7z"/><path d="m51.3 19.8c.1 0 .9.3 1.3-.6.2-.5 0-1.1-.6-1.3s-1.2-.5-1.7-.8-1.1-.1-1.4.4-.1 1.1.4 1.4c.7.3 1.3.7 2 .9z"/><path d="m62 61h-6l.9-4.7 3.6-9.1c.3-.7.4-1.4.4-2.1 0-.6-.4-1-1-1s-1 .4-1 1c0 .5-.1.9-.3 1.4l-3.6 9.2-1 5.3h-1.8c-.6 0-1 .4-1 1s.4 1 1 1h9.8c.6 0 1-.4 1-1s-.4-1-1-1z"/><path d="m48.4 61h-6.4l-1-5.3-1.3-3.2c-.2-.5-.8-.8-1.3-.6s-.8.8-.6 1.3l1.2 3 1 4.8h-4.8l1.7-8.7 3.6-9.1c.3-.7.4-1.4.4-2.1v-7c0-1.5-1-2.8-2.4-3.1-1.8-.3-3.5 1.2-3.5 3v5.8l-3.7 9.2h-6.6l-3.7-9.2v-5.8c0-.9-.4-1.7-1-2.2l6.6-11.4 4.7.7c3.2.5 6 2.1 8 4.6.2.3.7.6 1.4.2.5-.3.5-1 .2-1.4-2.3-2.9-5.6-4.8-9.3-5.4l-3.9-.6 6.9-12 4.7.7c3.2.5 6 2.1 8 4.6 2.3 2.9 5.6 4.8 9.3 5.4l3.9.6-6.9 12-4.7-.7c-2.1-.3-4.2-1.2-5.9-2.5-.4-.3-1.1-.3-1.4.2-.3.4-.3 1.1.2 1.4 2 1.5 4.3 2.5 6.8 2.9l5.3.8s.7.2 1-.5l8-13.9c.4-1.1-.4-1.4-.7-1.5l-5.3-.8c-3.2-.5-6-2.1-8-4.6-2.3-2.9-5.6-4.8-9.3-5.4l-3.9-.6 1.3-2.2c.2-.4 0-1-.5-1.3s-1.1-.1-1.3.4l-17.1 29.5s-2.8-.3-3.1 3v7.1c0 .7.1 1.4.4 2.1l3.6 9.1 1.7 8.7h-5.7c-.6 0-1 .4-1 1s.4 1 1 1h33.4c.6 0 1-.4 1-1s-.4-1-1-1zm-13.4-9.3-1.8 9.3h-10.4l-1.8-9.3-3.7-9.3c-.2-.4-.3-.8-.3-1.3v-7.1c0-.6.4-1 1-1s1 .4 1 1v6.2l4.1 10.2c.2.4.5.6.9.6h8c.4 0 .8-.2.9-.6l4.1-10.2v-6.2c0-.6.4-1 1-1s1 .4 1 1v7.1c0 .5-.1.9-.3 1.4z"/><path d="m11.3 61h-1.3l-1-5.3-3.7-9.3c-.2-.4-.3-.8-.3-1.3v-7.1c0-.6.4-1 1-1s1 .4 1 1v6.2l4.1 10.2c.2.4.5.6.9.6h5.4c.6 0 1-.4 1-1s-.4-1-1-1h-4.7l-3.7-9.2v-5.7c0-1.5-1-2.8-2.4-3.1-1.9-.3-3.6 1.2-3.6 3v7.1c0 .7.1 1.4.4 2.1l3.6 9.1 1 4.7h-6c-.6 0-1 .4-1 1s.4 1 1 1h9.3c.6 0 1-.4 1-1s-.4-1-1-1z"/></svg>
            <div class="seller-details-text">
              <p>Thank you for submitting buyer details</p>
              <p><b>Keep going!</b></p>
            </div>
            <div class="seller-details-btn">
              <button (click)="proceedToSellerInfo()">Enter seller details</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- <div class="modal-body" *ngIf="ribbon_waiting">
      <div class="modal-content-container ribbon-info" *ngIf="ribbon_waiting && !showRibbonInfo">
        <h3 *ngIf="!add_account">We're updating your agent account on Ribbon.com</h3>
        <h3 *ngIf="add_account">We're creating your agent account on Ribbon.com</h3>
        <div class="loading-spinner">
          <loading-spinner></loading-spinner>
        </div>
      </div>
      <div class="modal-content-container ribbon-info" *ngIf="showRibbonInfo"> 
        <h3>We've created an account for you on Ribbon.com</h3>
        <a href="{{ ribbonUrl }}" title="View or edit your Ribbon.com account" target="_blank">View or edit your Ribbon.com account</a>
        <p>(link opens in a new tab)</p>
        <button (click)="closeRibbon()">Continue</button>
      </div>
    </div> -->
  </div>
  <div class="modal-background" *ngIf="buyerEmailToClient"></div>
</div>